services:
  app:
    image: boxdice/graphql-demo
    build: .
    container_name: graphql-demo
    environment:
      - CLIENT_ID=${CLIENT_ID}
      - CLIENT_SECRET=${CLIENT_SECRET}
      - TOKEN_ENDPOINT=${TOKEN_ENDPOINT}
      - AGENCY_NAME=${AGENCY_NAME}
      - DEVELOPER_GRAPHQL_ENDPOINT=${DEVELOPER_GRAPHQL_ENDPOINT}
      - DEBUG=App
      - SCHEMA_URL=${SCHEMA_URL}
      - CONCURRENCY=${CONCURRENCY}
      - PAUSE_BETWEEN_REQUESTS=${PAUSE_BETWEEN_REQUESTS}
    working_dir: /usr/src/app
    volumes:
      - .:/usr/src/app
    stdin_open: true
    tty: true
    command: ["./entrypoint.sh"]
